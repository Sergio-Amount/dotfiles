#! /usr/bin/env bash

# DESCRIPTION
# Installs the dev environment for Ruby

# EXECUTION
printf "Installing Ruby... \n"
rbenv install -l # find which is the latest ruby version

read -p "Which version do you want to install? " dev_version
if [[ -z "$dev_version" ]]; then
  printf "ERROR: Invalid version. \n"
  exit 1
fi

stow -v --target=$HOME --dir=$DOTFILE_DIR ruby

rbenv install $dev_version
rbenv local $dev_version
rbenv global $dev_version
gem install bundle
rbenv rehash

printf "Installing Gems... \n"
gem install pry pry-doc pry-bloodline ruby_parser rufo rubocop scss_lint
gem install scss_lint_reporter_checkstyle spirit_fingers
gem install ruby-debug-ide debase solargraph
rbenv rehash